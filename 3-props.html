<html>
<head>
    <meta charset="utf-8">
    <title>学习ReactJS</title>
    <script src="https://cdn.bootcss.com/react/15.4.2/react.min.js"></script>
    <script src="https://cdn.bootcss.com/react/15.4.2/react-dom.min.js"></script>
    <script src="https://cdn.bootcss.com/babel-standalone/6.22.1/babel.min.js"></script>
</head>
<body>
<div id="app"></div>
<script type="text/jsx">
    let MessageBox = React.createClass({
        getInitialState: function () {
            return {
                isVisible: true,
                subMessages: [
                    '我会代码搬砖', '以及花式搬砖', '不说了，工头叫我回去搬砖了。。。。。。。'
                ]
            }
        },
        render: function () {
            let styleObj = {
                display: this.state.isVisible ? 'block' : 'none'
            };
            return (
                <div>
                    <h1 style={styleObj}>{this.props.title}</h1>
                    <Submessage messages={this.state.subMessages}/>
                </div>
            )
        }
    });

    var Submessage = React.createClass({
        getDefaultProps: function () {
            return {
                messages: ['默认的子消息']
            }
        },
        render: function () {
            var msgs = [];
            this.props.messages.forEach(function (msg, index) {
                msgs.push(
                    <p>码农说: {msg}</p>
                )
            });
            return (
                <div>{msgs}</div>
            )
        }
    });
    let title = 'Hello world(from top props)';
    let messageBox = ReactDOM.render(<MessageBox title={title}/>, document.getElementById("app"));
</script>
</body>
</html>